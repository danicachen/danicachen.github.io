(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{691:function(s,n,e){"use strict";e.r(n);var a=e(41),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[s._v("参考资料")]),e("ul",[e("li",[e("a",{attrs:{href:"https://docs.leoku.top/blog/deploy-vue-app-to-github-pages.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("如何将 Vue 应用部署到 GitHub Pages"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://docs.leoku.top/blog/ci-cd-with-github-actions-to-deploy-on-github-pages.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("持续集成：使用 GitHub Actions 来帮你的应用自动化部署到 GitHub Pages"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://www.wuxunjie.org/Q&A/deploy.html#%E5%89%8D%E7%BD%AE%E5%86%85%E5%AE%B9",target:"_blank",rel:"noopener noreferrer"}},[s._v("手摸手使用GitHub Pages + GitHub Actions自动化部署项目/博客"),e("OutboundLink")],1)])])]),e("h2",{attrs:{id:"用vue官方提供的脚手架vue-cli来完成项目创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用vue官方提供的脚手架vue-cli来完成项目创建"}},[s._v("#")]),s._v(" 用vue官方提供的脚手架vue-cli来完成项目创建")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("用npm或者yarn全局安装vue-cli\n"),e("code",[s._v("npm i -g @vue-cli")])])]),s._v(" "),e("li",[e("p",[s._v("创建项目")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//基于命令行\nvue creage ProjectName\n//或基于可视化面板\nvue ui\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("可以通过修改项目根目录中的配置文件"),e("code",[s._v("vue.config.js")]),s._v("来让项目实现自动刷新")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    module.exports = {\n        devServer: {\n        //修改端口\n        port: 8080,\n        //自动打开\n        open: true\n        }\n    }\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[s._v("```\n")])])]),e("p",[s._v("4.打开"),e("code",[s._v("package.json")]),s._v("文件查看可用命令\n"),e("code",[s._v('{ "scripts": { "serve": "vue-cli-service serve", "build": "vue-cli-service build" } }')]),s._v("\n现在可以输入"),e("code",[s._v("npm run serve")]),s._v("命令，启动项目。")]),s._v(" "),e("h2",{attrs:{id:"开发阶段-略过"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开发阶段-略过"}},[s._v("#")]),s._v(" 开发阶段（略过）")]),s._v(" "),e("h2",{attrs:{id:"部署准备阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署准备阶段"}},[s._v("#")]),s._v(" 部署准备阶段")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[s._v("首先要明白[./dist](./../../../back-end/deploy/how-webpack-work.md)文件夹的由来\n")])])]),e("ul",[e("li",[e("p",[s._v("3.1 在github创建新仓库\n"),e("img",{attrs:{src:"/img/create-repo.jpg",alt:"new repo"}})])]),s._v(" "),e("li",[e("p",[s._v("3.2 按实际情况选初始化仓库，我通常用的都是第二个，push本地已有数据到仓库\n"),e("img",{attrs:{src:"/img/push-to-repo.jpg",alt:"push repo"}})])]),s._v(" "),e("li",[e("p",[s._v("3.3 创建好以后，到settings/tokens，生成新token\n"),e("img",{attrs:{src:"/img/new-token.jpg",alt:"new token"}})])]),s._v(" "),e("li",[e("p",[s._v("3.4 勾选repo，授予对仓库的"),e("a",{attrs:{href:"https://docs.github.com/cn/developers/apps/building-oauth-apps/scopes-for-oauth-apps",target:"_blank",rel:"noopener noreferrer"}},[s._v("完全访问权限"),e("OutboundLink")],1),s._v(" "),e("img",{attrs:{src:"/img/select-scope.jpg",alt:"scope"}})])]),s._v(" "),e("li",[e("p",[s._v("3.4 创建完毕后复制密匙，回到仓库的settings/secrets/action界面，添加密匙\n"),e("img",{attrs:{src:"/img/add-secret.jpg",alt:"add secret"}})])]),s._v(" "),e("li",[e("p",[s._v("3.5 点击菜单的pages，新建"),e("code",[s._v("gh-pages")]),s._v("拿来放"),e("code",[s._v("./dist")]),s._v(" "),e("img",{attrs:{src:"/img/gh-pages.jpg",alt:"new branches"}})])])]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[s._v("配置github action")]),s._v(" "),e("ul",[e("li",[s._v("4.1 点action，"),e("a",{attrs:{href:"https://docs.github.com/cn/actions/using-workflows/workflow-syntax-for-github-actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("创建工作流程"),e("OutboundLink")],1),s._v("，对照工作流程的存放位置，在本地创建"),e("code",[s._v(".yml")]),s._v("文件\n"),e("img",{attrs:{src:"/img/workflow-path.jpg",alt:"workflow"}})])]),s._v(" "),e("p",[s._v("复制以下代码，修改最后一项"),e("code",[s._v("GITHUB_TOKEN")]),s._v("名称")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# workflow 的名称，如果省略则默认为当前 workflow 的文件名\nname: deployment\n\non:\n# 每当 push 到 main 分支时触发部署\npush:\n    branches: \n    - main\n\njobs:\ndocs:\n    runs-on: ubuntu-latest # 使用最新的 Ubuntu 系统作为编译部署的环境\n\n    steps:\n    - name: Checkout codes\n    uses: actions/checkout@v2.3.4\n\n    # 设置 node.js 运行环境\n    - name: Setup node\n    uses: actions/setup-node@v2.1.2\n    with:\n        node-version: '14'\n\n    # 设置缓存依赖，加快下次安装依赖的速度\n    - name: Cache node modules\n    uses: actions/cache@v2.1.3\n    with:\n        path: '**/node_modules'\n        key: ${{ runner.os }}-node-${{ hashFiles('**/yarn.lock') }}\n\n    # 安装依赖\n    - name: Install dependencies\n    run: yarn install\n\n    # 构建文件\n    - name: Generate files\n    run: yarn build\n\n    # 将构建后的文件推送到 gh-pages\n    - name: Push to gh-pages     \n    uses: crazy-max/ghaction-github-pages@v2\n    with:\n        # 部署到 gh-pages 分支\n        target_branch: gh-pages\n        # 部署目录\n        build_dir: ./dist\n    env:\n        #填写刚才的token名\n        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"用git-push进行部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用git-push进行部署"}},[s._v("#")]),s._v(" 用git push进行部署")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[s._v("可以在action里查看日志，部署地址既可以在deploy下找到\n![查看日志](/img/deploy.jpg)\n\n也可以在仓库首页的右侧的`Environments`找到。\n![部署地址](/img/gh-page-path.jpg)\n")])])])])}),[],!1,null,null,null);n.default=t.exports}}]);