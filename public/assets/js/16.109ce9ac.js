(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{688:function(t,s,n){"use strict";n.r(s);var a=n(41),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"vue2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue2"}},[t._v("#")]),t._v(" vue2")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[t._v("参考资料：")]),n("ul",[n("li",[n("a",{attrs:{href:"https://www.bilibili.com/video/BV1zq4y1p7ga?p=541&t=122.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("P541 Vue3.0-26.综合案例 - 通过作用域插槽自定义创建时间的渲染格式"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/filters.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("过滤器"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.runoob.com/jsref/jsref-obj-date.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Date 对象"),n("OutboundLink")],1)])])]),n("h3",{attrs:{id:"步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),n("ol",[n("li",[t._v("原始时间数据为"),n("code",[t._v("addtime")]),t._v(",在数据"),n("code",[t._v("addtime")]),t._v("后面添加管道符"),n("code",[t._v("|")]),t._v("和全局过滤器"),n("code",[t._v("dateFormat")])])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{{ addtime | dateFormat }}\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("在"),n("code",[t._v("main.js")]),t._v("入口文件中定义全局过滤器 "),n("code",[t._v("dateFormat")])])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Vue.filter('dataFormat',(dtStr)=>{\n\t//返回一个日期对象\n\tconst dt = new Date(dtStr)\n\t\n\tconst y = dt.getFullYear()\n\tconst m = padZero(dt.getMonth() + 1)\n\tconst d = padZero(dt.getDate())\n\n\tconst hh = padZero(dt.getHours())\n\tconst mm = padZero(dt.getMinutes())\n\tconst ss = padZero(dt.getSeconds())\n\t\n\treturn `${y}-${m}-${d} ${hh}:${mm}:${ss}`\n})\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("声明补零函数，为不足两位数的时间数据补零")])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("function padZero(n){\n\tn > 9 ? n : '0' + n\n}\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h2",{attrs:{id:"vue3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue3"}},[t._v("#")]),t._v(" vue3")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[t._v("参考资料")]),n("ul",[n("li",[n("a",{attrs:{href:"https://www.mybj123.com/12885.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3 通过计算属性代替 filter 过滤器实现时间格式化"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://v3.cn.vuejs.org/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[t._v("计算属性"),n("OutboundLink")],1)])])]),n("h3",{attrs:{id:"步骤-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),n("ol",[n("li",[t._v("在"),n("code",[t._v("assets/js/")]),t._v("中声明一个"),n("code",[t._v("FormatDate")]),t._v("的函数，并导出")])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("// 用于格式化时间\n\nfunction formatDate(value, format) {\n\t//value: 需要格式化的数据\n\t//format: 指定格式 yyyy-MM-dd hh:mm:ss\n\tlet date = new Date(value);\n\t\n\t// 获取年份\n\tlet year = date.getFullYear();\n\tif (/(y+)/.test(format)) {\n\t\n\t// 获取匹配组的内容\n\tlet content = RegExp.$1;\n\tformat = format.replace(content, year.toString().slice(4 - content.length));\n\t}\n\n\tlet o = {\n\n\t// y: date.getFullYear(), // 用这一句也行，但只适用于四位数显示时候用\n\t\t\n\t\tM: date.getMonth() + 1,\n\t\t\n\t\td: date.getDate(),\n\t\t\n\t\th: date.getHours(),\n\t\t\n\t\tm: date.getMinutes(),\n\t\t\n\t\ts: date.getSeconds()\n\t\n\t};\n\n\tfor (let key in o) {\n\t\n\t\t// 构造动态正则\n\t\n\t\tlet reg = new RegExp(`(${key}+)`);\n\t\n\t\tif (reg.test(format)) {\n\t\t\n\t\t\t// 获取匹配组的内容\n\n\t\t\tlet content = RegExp.$1;\n\t\t\t\n\t\t\tlet k = o[key] >= 10 ? o[key] : content.length == 2 ? '0' + o[key] : o[key];\n\t\t\t\n\t\t\tformat = format.replace(content, k);\n\t\t\n\t\t}\n\t\n\t}\n\n\treturn format;\n\n}\n\nexport default formatDate\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("在使用组件页面中导入此js模块\n"),n("code",[t._v("import formatDate from '@/assets/js/FormatDate'")])]),t._v(" "),n("li",[t._v("在使用组件的"),n("code",[t._v("computed")]),t._v("节点中调用此函数")])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("computed:{\n\n\tformatDate(){\n\t\n\treturn formatDate\n\t\n\t}\n\n},\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("在需要渲染处使用计算属性")])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{{ formatDate(scope.row.addtime, "yyyy-mm-dd hh:MM:ss") }}\n\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);